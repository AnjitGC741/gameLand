@model List<Gameland.Models.recentlyPurchaseProduct>
@{
    ViewBag.Title = "dashboardPage";
    Layout = null;
   int SN = 1;
}

<!doctype html>
<html lang="en">
<head>
    <title>Dashboard</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    @*Css links*@
    <link rel="stylesheet" href="~/Content/AdminPannel/dashboard/newDashboardCss.css">
    <link rel="stylesheet" href="~/Content/AdminPannel/dashboard/sideBarCss.css">
    @*Font awesome*@
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    @*font family*@
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Advent+Pro:wght@100&family=Signika+Negative:wght@300&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
    @*Graph and Pie Chart*@
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <style>
        .mainBox {
            display: flex;
        }

        .pageContent {
            width: 1270px;
            margin-left: 0;
        }

        .dummyBox {
            width: 250px;
            height: 780px;
            background-color: red;
        }
    </style>
</head>
<body>

    <div class="mainBox">
        <div class="dummyBox">

        </div>
        <nav id="sidebar">
            <div class="p-4 pt-5">
                <h2 style="background-color: #696969; color:white; margin-bottom:60px; margin-top:30px">GameLand</h2>
                <ul class="list-unstyled components mb-5">


                    <li>
                        <a href="@Url.Action("dashboardPage","forAdminPannel")">Dashboard</a>
                    </li>
                    <li class="active">
                        <a href="#homeSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">Table</a>
                        <ul class="collapse list-unstyled" id="homeSubmenu">
                            <li>
                                <a href="@Url.Action("movieTable","movieTable")">Movies</a>
                            </li>
                            <li>
                                <a href="@Url.Action("gameTable","gameTable")">Games</a>
                            </li>
                            <li>
                                <a href="@Url.Action("seriesTable","seriesTable")">Series</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="@Url.Action("calender","forMessage")">Calender</a>
                    </li>
                    <li>
                        <a href="@Url.Action("userMessage","forMessage")">Message <span style="background-color:red; border-radius:100%;padding:2px 8px;color:white;margin-left:100px">@Session["totalMessage"]</span></a>
                    </li>
                    <li>
                        <a href="@Url.Action("homePage","forHomePage")">Logout</a>
                    </li>



                </ul>

                <div class="mb-5">
                    <h3 class="h6">Search</h3>
                    <form action="#" class="colorlib-subscribe-form">
                        <div class="form-group d-flex">
                            <div class="icon"><span class="icon-paper-plane"></span></div>
                            <input type="text" class="form-control" placeholder="Search">
                        </div>
                    </form>
                </div>

                <div class="footer">
                    <p>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        Copyright &copy;
                        <script>document.write(new Date().getFullYear());</script> All rights reserved | Dz Gameland</a>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                    </p>
                </div>

            </div>
        </nav>@*navbar content ends*@
        <div class="pageContent">
            @*Product Count starts*@
            <div class="productBox">
                <div class="box1">
                    <div class="forIcon">
                        <span class="material-icons">
                            sports_esports
                        </span>
                    </div>

                    <div class="forText">
                        <div class="forCount">
                            <p>@Session["totalGames"]</p>
                        </div>
                        <div class="forName">
                            <p>Games</p>
                        </div>
                    </div>
                </div>@*box 1 ends*@
                <div class="box2">
                    <div class="forIcon">
                        <span class="material-icons">
                            movie
                        </span>
                    </div>

                    <div class="forText">
                        <div class="forCount">
                            <p>@Session["totalMovies"]</p>
                        </div>
                        <div class="forName">
                            <p>Movies</p>
                        </div>
                    </div>
                </div>@*box 2 ends*@
                <div class="box3">
                    <div class="forIcon">
                        <span class="material-icons">
                            subscriptions
                        </span>

                    </div>

                    <div class="forText">
                        <div class="forCount">
                            <p>@Session["totalSubs"]</p>
                        </div>
                        <div class="forName">
                            <p style="margin-left: 20px;"> Subscription</p>
                        </div>
                    </div>
                </div>@*box 3 ends*@
                <div class="box4">
                    <div class="forIcon">
                        <span class="material-icons">
                            theaters
                        </span>
                    </div>

                    <div class="forText">
                        <div class="forCount">
                            <p>@Session["totalSeries"]</p>
                        </div>
                        <div class="forName">
                            <p>Series</p>
                        </div>
                    </div>
                </div>@*box 4 ends*@
            </div>
            @*Product count ends*@
        <hr />
            @*Business Details starts*@
            <div class="businessBox">
                <div class="box5">
                    <div class="forIcon">
                        <span class="material-icons">
                            shopping_cart
                        </span>
                    </div>

                    <div class="forText">
                        <div class="forCount">
                            <p>@Model.Count()</p>
                        </div>
                        <div class="forName">
                            <p>Sales</p>
                        </div>
                    </div>
                </div>@*box 1 ends*@
                <div class="box6">
                    <div class="forIcon">
                        <span class="material-icons">
                            paid
                        </span>
                    </div>

                    <div class="forText">
                        <div class="forCount">
                            <p>@(Model.Sum(x=>x.purchasePrice))</p>
                        </div>
                        <div class="forName">
                            <p>Earning</p>
                        </div>
                    </div>
                </div>@*box 2 ends*@
                <div class="box7">
                    <div class="forIcon">
                        <span class="material-icons">
                            people_alt
                        </span>

                    </div>

                    <div class="forText">
                        <div class="forCount">
                            <p>@Session["totalUsers"]</p>
                        </div>
                        <div class="forName">
                            <p>Users</p>
                        </div>
                    </div>
                </div>@*box 3 ends*@
               
            </div>
            @*Businesss Details ends*@
       
            @*Graph and Pie Chart starts*@
            <div class="mainChartBox">
                <div class="graphBox">
                    <p>Product Count</p>
                    <canvas id="myChart"></canvas>
                </div>
                <div class="pieBox">
                    <p>Sales</p>
                    <canvas id="myPie"></canvas>
                </div>

            </div>
            @*Graph and pie chart ends*@
            @*recent Purchase table starts*@
            
        <div class="forTable">
            <h1>Recently purchase</h1>
            <table class="table" border="1">
                <tr id="header">
                    <th>SN</th>
                    <th>User name</th>
                    <th>Purchase Name</th>
                    <th>Purchase Img</th>
                    <th>type</th>
                    <th>price</th>
                </tr>
                @foreach (var data in Model)
                {
                    <tr>
                        <td>@(SN++)</td>
                        <td>@(data.userName)</td>
                        <td>@(data.purchaseName)</td>
                        <td><img src="@(data.purchaseImg!=null?Url.Content(data.purchaseImg):"")" height="100" width="70" /> </td>
                        <td>@(data.purchaseType)</td>
                        <td>@(data.purchasePrice)</td>




                    </tr>


                }

            </table>

        </div>
            
               
            @*recent purchase table ends*@
        </div>@*Page Content ends*@




    </div>@*mainDiv ends ends*@
<script>
        const ctx = document.getElementById("myChart").getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Games', 'Movies', 'Series'],
                datasets: [{
                    label: '',
                    data: [@Session["totalGames"], @Session["totalMovies"], @Session["totalSeries"]],
                    backgroundColor: [
                        '#3B5BA5',
                        '#E87A5D',
                        '#F3B941',

                    ],

                }]
            },
            options: {
                Response: true,
            }
        });
        const ctx1 = document.getElementById('myPie').getContext('2d');
        const myPie = new Chart(ctx1, {
            type: 'doughnut',
            data: {
                labels: ['Movies', 'Games', 'Series'],
                datasets: [{
                    label: 'Product Sales',
                    data: [@Session["totalMovieDownload"],@Session["totalGameDownload1"], @Session["totalSeriesDownload"] ],
                    backgroundColor: [
                        '#EC6B56',
                        '#FFC154',
                        '#47B39C',
                    ],

                }]
            },
            options: {
                Response: true,
            }
        });
</script>

    <script src="~/Content/AdminPannel/dashboard/jquery.min.js"></script>
    <script src="~/Content/AdminPannel/dashboard/popper.js"></script>
    <script src="~/Content/AdminPannel/dashboard/bootstrap.min.js"></script>
    <script src="~/Content/AdminPannel/dashboard/main.js"></script>
</body>
</html>

